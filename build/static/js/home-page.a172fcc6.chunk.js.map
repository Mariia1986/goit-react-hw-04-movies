{"version":3,"sources":["api/api.js","pages/Homepage/HomePage.module.css","pages/Homepage/HomePage.js"],"names":["key","baseUrl","api","getTrendFilms","fetch","then","res","json","results","getMovieInfo","id","getSearchMovies","query","length","Promise","reject","getFilmActors","cast","getRewiesFilm","module","exports","HomePage","state","setState","this","location","props","console","log","className","s","header","trendList","map","original_title","trendListItem","navLink","activeClassName","activeNavLink","to","pathname","from","Component"],"mappings":"yIAAA,IAAMA,EAAM,mCACNC,EAAU,gCAsDVC,EAAM,CACVC,cArDoB,WACpB,OAAOC,MAAM,GAAD,OAAIH,EAAJ,uCAA0CD,IACnDK,MAAK,SAAAC,GACJ,OAAOA,EAAIC,UAEZF,MAAK,YACJ,OADqB,EAAdG,YAiDXC,aA5CmB,SAAAC,GACnB,OAAON,MAAM,GAAD,OAAIH,EAAJ,iBAAoBS,EAApB,oBAAkCV,IAAOK,MAAK,SAAAC,GACxD,OAAOA,EAAIC,WA2CbI,gBAvCsB,SAAAC,GACtB,OAAOR,MAAM,GAAD,OAAIH,EAAJ,8BAAiCW,EAAjC,oBAAkDZ,IAC3DK,MAAK,SAAAC,GACJ,OAAOA,EAAIC,UAEZF,MAAK,YAAkB,IAAfG,EAAc,EAAdA,QACP,OAAuB,IAAnBA,EAAQK,OACHC,QAAQC,OAAR,0CAAkDH,IAEpDJ,MA+BXQ,cA3BoB,SAAAN,GACpB,OAAON,MAAM,GAAD,OAAIH,EAAJ,iBAAoBS,EAApB,4BAA0CV,IACnDK,MAAK,SAAAC,GACJ,OAAOA,EAAIC,UAEZF,MAAK,YACJ,OADkB,EAAXY,SAuBXC,cAlBoB,SAAAR,GACpB,OAAON,MAAM,GAAD,OAAIH,EAAJ,iBAAoBS,EAApB,4BAA0CV,IACnDK,MAAK,SAAAC,GACJ,OAAOA,EAAIC,UAEZF,MAAK,YAAkB,IAAfG,EAAc,EAAdA,QACP,OAAuB,IAAnBA,EAAQK,OACHC,QAAQC,OAAO,4BAEjBP,OAYEN,O,mBC9DfiB,EAAOC,QAAU,CAAC,UAAY,4BAA4B,cAAgB,gCAAgC,OAAS,yBAAyB,QAAU,4B,kKCG9IjB,EAAkBD,IAAlBC,cA2COkB,E,4MAxCbC,MAAQ,CACNd,QAAS,I,uDAGX,WAAqB,IAAD,OAClBL,IAAgBE,MAAK,SAAAG,GACnB,EAAKe,SAAS,CAAEf,iB,oBAIpB,WAAU,IACAA,EAAYgB,KAAKF,MAAjBd,QACAiB,EAAaD,KAAKE,MAAlBD,SAER,OADAE,QAAQC,IAAIpB,GAEV,gCACE,oBAAIqB,UAAWC,IAAEC,OAAjB,4BACA,oBAAIF,UAAWC,IAAEE,UAAjB,SACGxB,EAAQyB,KAAI,YAA6B,IAA1BvB,EAAyB,EAAzBA,GAAIwB,EAAqB,EAArBA,eAClB,OACE,oBAAIL,UAAWC,IAAEK,cAAjB,SACE,cAAC,IAAD,CACEN,UAAWC,IAAEM,QACbC,gBAAiBP,IAAEQ,cACnBC,GAAI,CACFC,SAAS,UAAD,OAAY9B,GACpBY,MAAO,CAAEmB,KAAMhB,IALnB,SAQGS,KATgCxB,e,GArB5BgC","file":"static/js/home-page.a172fcc6.chunk.js","sourcesContent":["const key = '0758483bbf141f2377e75ad4723d5ab5';\r\nconst baseUrl = 'https://api.themoviedb.org/3/';\r\n\r\nconst getTrendFilms = () => {\r\n  return fetch(`${baseUrl}trending/movie/week?api_key=${key}`)\r\n    .then(res => {\r\n      return res.json();\r\n    })\r\n    .then(({ results }) => {\r\n      return results;\r\n    });\r\n};\r\n\r\nconst getMovieInfo = id => {\r\n  return fetch(`${baseUrl}movie/${id}?api_key=${key}`).then(res => {\r\n    return res.json();\r\n  });\r\n};\r\n\r\nconst getSearchMovies = query => {\r\n  return fetch(`${baseUrl}search/movie?query=${query}&api_key=${key}`)\r\n    .then(res => {\r\n      return res.json();\r\n    })\r\n    .then(({ results }) => {\r\n      if (results.length === 0) {\r\n        return Promise.reject(`Nothing found for your request: ${query}`);\r\n      }\r\n      return results;\r\n    });\r\n};\r\n\r\nconst getFilmActors = id => {\r\n  return fetch(`${baseUrl}movie/${id}/credits?api_key=${key}`)\r\n    .then(res => {\r\n      return res.json();\r\n    })\r\n    .then(({ cast }) => {\r\n      return cast;\r\n    });\r\n};\r\n\r\nconst getRewiesFilm = id => {\r\n  return fetch(`${baseUrl}movie/${id}/reviews?api_key=${key}`)\r\n    .then(res => {\r\n      return res.json();\r\n    })\r\n    .then(({ results }) => {\r\n      if (results.length === 0) {\r\n        return Promise.reject('No reviews for this film');\r\n      }\r\n      return results;\r\n    });\r\n};\r\n\r\nconst api = {\r\n  getTrendFilms,\r\n  getMovieInfo,\r\n  getSearchMovies,\r\n  getFilmActors,\r\n  getRewiesFilm,\r\n};\r\n\r\nexport default api;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"trendList\":\"HomePage_trendList__1VcS_\",\"trendListItem\":\"HomePage_trendListItem__u3q6t\",\"header\":\"HomePage_header__2NzLi\",\"navLink\":\"HomePage_navLink__JRO_4\"};","import React, { Component } from 'react';\r\nimport api from '../../api/api';\r\nimport { Link } from 'react-router-dom';\r\nimport s from './HomePage.module.css';\r\nconst { getTrendFilms } = api;\r\n\r\nclass HomePage extends Component {\r\n  state = {\r\n    results: [],\r\n  };\r\n\r\n  componentDidMount() {\r\n    getTrendFilms().then(results => {\r\n      this.setState({ results });\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { results } = this.state;\r\n    const { location } = this.props;\r\n    console.log(results);\r\n    return (\r\n      <div>\r\n        <h1 className={s.header}>Trending today</h1>\r\n        <ul className={s.trendList}>\r\n          {results.map(({ id, original_title }) => {\r\n            return (\r\n              <li className={s.trendListItem} key={id}>\r\n                <Link\r\n                  className={s.navLink}\r\n                  activeClassName={s.activeNavLink}\r\n                  to={{\r\n                    pathname: `movies/${id}`,\r\n                    state: { from: location },\r\n                  }}\r\n                >\r\n                  {original_title}\r\n                </Link>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default HomePage;\r\n"],"sourceRoot":""}