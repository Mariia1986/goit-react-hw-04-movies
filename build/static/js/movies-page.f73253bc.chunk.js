(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{57:function(e,t,r){"use strict";var n="0758483bbf141f2377e75ad4723d5ab5",c="https://api.themoviedb.org/3/",a={getTrendFilms:function(){return fetch("".concat(c,"trending/movie/week?api_key=").concat(n)).then((function(e){return e.json()})).then((function(e){return e.results}))},getMovieInfo:function(e){return fetch("".concat(c,"movie/").concat(e,"?api_key=").concat(n)).then((function(e){return e.json()}))},getSearchMovies:function(e){return fetch("".concat(c,"search/movie?query=").concat(e,"&api_key=").concat(n)).then((function(e){return e.json()})).then((function(t){var r=t.results;return 0===r.length?Promise.reject("Nothing found for your request: ".concat(e)):r}))},getFilmActors:function(e){return fetch("".concat(c,"movie/").concat(e,"/credits?api_key=").concat(n)).then((function(e){return e.json()})).then((function(e){return e.cast}))},getRewiesFilm:function(e){return fetch("".concat(c,"movie/").concat(e,"/reviews?api_key=").concat(n)).then((function(e){return e.json()})).then((function(e){var t=e.results;return 0===t.length?Promise.reject("No reviews for this film"):t}))}};t.a=a},58:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}r.d(t,"a",(function(){return a}))},60:function(e,t,r){e.exports={searchList:"SearchingFilms_searchList__2KXCB",searchListItem:"SearchingFilms_searchListItem__3CVC7",navLink:"SearchingFilms_navLink__3cTi9"}},61:function(e,t,r){e.exports={searchForm:"MoviesPage_searchForm__3WChD",searchFormbutton:"MoviesPage_searchFormbutton__3tg21","searchForm-button":"MoviesPage_searchForm-button__2FSi9",searchFormbuttonlabel:"MoviesPage_searchFormbuttonlabel__3aBb-",searchForminput:"MoviesPage_searchForminput__3AIDj","searchForm-input":"MoviesPage_searchForm-input__3IEJE",searchFormContainer:"MoviesPage_searchFormContainer__1rMHo",errorMessage:"MoviesPage_errorMessage__xo4q1"}},67:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return y}));var n=r(58),c=r(15),a=r(16),o=r(18),s=r(17),i=r(0),u=r(57),h=r(3),l=r(10),m=r(60),b=r.n(m),f=r(1),j=Object(h.f)((function(e){var t=e.films,r=e.match,n=e.location;return Object(f.jsx)("ul",{className:b.a.searchList,children:t&&t.map((function(e){var t=e.name,c=e.id,a=e.original_title;return Object(f.jsx)("li",{className:b.a.searchListItem,children:Object(f.jsx)(l.c,{to:{pathname:"".concat(r.path,"/").concat(c),state:{from:n}},className:b.a.navLink,children:t||a})},c)}))})})),p=r(19),v=r(61),g=r.n(v),O=u.a.getSearchMovies,y=function(e){Object(o.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(c.a)(this,r);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={query:"",movies:[],error:""},e.getSearchbyQuery=function(t){O(t).then((function(t){e.setState({movies:t})})).catch((function(t){e.setState({error:t})}))},e.handleChange=function(t){e.setState({query:t.target.value})},e.hendleSubmit=function(t){t.preventDefault();var r=e.props,c=r.history,a=r.location;e.getSearchbyQuery(e.state.query.toLowerCase()),c.push(Object(n.a)(Object(n.a)({},a),{},{search:"query=".concat(e.state.query)})),e.state.query=""},e}return Object(a.a)(r,[{key:"componentDidMount",value:function(){this.props.location.search&&this.getSearchbyQuery(this.props.location.search.slice(7))}},{key:"render",value:function(){var e=this.state,t=e.movies,r=e.query,c=e.error;return Object(f.jsxs)("div",{children:[Object(f.jsx)("div",{className:g.a.searchFormContainer,children:Object(f.jsxs)("form",{className:g.a.searchForm,onSubmit:this.hendleSubmit,children:[Object(f.jsx)("button",{type:"submit",className:g.a.searchFormbutton,children:Object(f.jsx)("span",{className:g.a.searchFormbuttonlabel,children:"Search"})}),Object(f.jsx)("input",{className:g.a.searchForminput,type:"text",placeholder:"Search movies..",value:r,onChange:this.handleChange})]})}),Object(f.jsxs)("div",{children:[Object(f.jsx)(i.Suspense,{fallback:Object(f.jsx)("div",{className:"loaderContainer",children:Object(f.jsx)(p.a,{})}),children:Object(f.jsx)(h.a,{to:"/movies/query=".concat(r),render:function(e){return Object(f.jsx)(j,Object(n.a)({films:t},e))}})}),c&&Object(f.jsx)("h2",{className:g.a.errorMessage,children:c})]})]})}}]),r}(i.Component)}}]);
//# sourceMappingURL=movies-page.f73253bc.chunk.js.map